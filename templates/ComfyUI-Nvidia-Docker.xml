<?xml version="1.0"?>
<Container version="2">
    <Name>ComfyUI-Nvidia-Docker</Name>
    <Repository>mmartial/comfyui-nvidia-docker</Repository>
    <Registry>https://hub.docker.com/r/mmartial/comfyui-nvidia-docker</Registry>
    <Support>https://forums.unraid.net/topic/172874-support-comfyui-nvidia-docker/</Support>
    <Project>https://github.com/mmartial/ComfyUI-Nvidia-Docker</Project>
    <TemplateURL>https://raw.githubusercontent.com/mmartial/ComfyUI-Nvidia-Docker/main/ComfyUI-Nvidia-Docker.xml</TemplateURL>
    <Icon>https://avatars.githubusercontent.com/u/121283862</Icon>
    <Category>AI: MediaApp:Photos</Category>
    <ExtraSearchTerms>WebUI images generation Stable Diffusion</ExtraSearchTerms>
    <Network>bridge</Network>
    <Requires>**Nvidia Driver plugin**</Requires>
    <MyIP/>
    <Shell>bash</Shell>
    <Privileged>false</Privileged>
    <Overview>
ComfyUI WebUI Dockerfile with Nvidia support, built from the latest official ComfyUI GitHub release&#xD;
&#xD;
The tool will create many folders inside the "run directory", among which: HF, data/{input,output,temp}, user, models, custom_nodes

All those folders will be created with the WANTED_UID and WANTED_GID parameters (by default using Unraid's default of 99:100) allowing the end-user to place directly into the folders their checkpoints, unet, lora and other required models.

The initialization script (run at each restart of the container) will do its best to not overwrite existing files (keeping the most recent -- if you are modifying an existing file, it might be safer to rename it; if a new version appears on Comfy's GitHub, your version might get erased) or remove files that are already in the destination.

Note that the base container comes with no weights/models; you need to obtain those and install them in the proper directories under the mount you have selected for the "run directory".

Output files will be placed into the data/output folder within that "run directory".

&#xD;
Please see https://github.com/mmartial/ComfyUI-Nvidia-Docker for further details.&#xD;
In particular, details about "First time use" (and the "bottle" workflow), noting that Unraid's default YOUR_RUN_DIRECTORY is /mnt/user/appdata/comfyui-nvidia/mnt

&#xD;
Note: This is a WebUI for the ComfyUI Stable Diffusion tool with a Docker image which is over 10GB.
    </Overview>
    <WebUI>http://[IP]:[PORT:8188]</WebUI>
    <ExtraParams>--runtime nvidia --gpus all</ExtraParams>
    <PostArgs/>
    <CPUset/>
    <DateInstalled/>
    <DonateText/>
    <DonateLink/>
    <Config Name="WebUI Port" Target="8188" Default="8188" Mode="tcp" Description="" Type="Port" Display="always" Required="true" Mask="false">8188</Config>
    <Config Name="run directory" Target="/home/comfy/mnt" Default="/mnt/user/appdata/comfyui-nvidia/mnt" Mode="rw" Description="" Type="Path" Display="always" Required="true" Mask="false">/mnt/user/appdata/comfyui-nvidia/mnt</Config>
    <Config Name="WANTED_UID" Target="WANTED_UID" Default="99" Mode="" Description="UID to use for content in run directory" Type="Variable" Display="always" Required="true" Mask="false">99</Config>
    <Config Name="WANTED_GID" Target="WANTED_GID" Default="100" Mode="" Description="GID to use for content in run directory" Type="Variable" Display="always" Required="true" Mask="false">100</Config>
</Container>
